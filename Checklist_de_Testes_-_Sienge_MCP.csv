Categoria,Objetivo,Prompt (copiar e colar no cliente MCP),Critério de Aceite,Resultado,Observações
1) Smoke / Inicialização,Verificar servidor ativo e conectividade básica,O servidor MCP do Sienge está ativo? Liste uma informação simples (ex.: minha empresa/organização).,Resposta sem erro; retorna pelo menos 1 registro/atributo esperado.,,
1) Smoke / Inicialização,Confirmar versão e ferramentas expostas,Qual é a versão do servidor MCP que está rodando e quais ferramentas ele expõe?,Versão informada; lista de ferramentas corresponde ao README; nomes consistentes.,,
1) Smoke / Inicialização,Medir latência básica (ping),Realize um ping: chame uma ferramenta com filtro inofensivo e retorne a latência total em ms.,Tempo de resposta registrado; sem erros; latência dentro do esperado para consulta leve.,,
1) Smoke / Inicialização,Conferir configuração operacional,"Mostre as variáveis de configuração ativas relevantes (timeout, cache habilitado, base URL), omitindo segredos.",Timeout/cache/endpoint exibidos; sem vazamento de credenciais; valores coerentes com .env.,,
2) A/R,Ver top 10 maiores A/R em aberto,Liste as 10 maiores contas a receber em aberto.,"Retorna até 10 itens ordenados por valor desc; campos id,número,vencimento,valor presentes.",,
2) A/R,Totalizar vencidas por projeto,Liste contas vencidas até hoje e totalize por projeto/empreendimento.,Somatório por projeto presente; datas de vencimento <= hoje; totais batem com contagem.,,
2) A/R,Filtrar por período (vencimento),Busque A/R com vencimento entre 2025-09-01 e 2025-09-30 e retorne valor total e quantidade.,Intervalo aplicado; total e quantidade consistentes; nenhum item fora do período.,,
2) A/R,Listar quitadas no último mês,"Mostre todas as A/R quitadas no último mês, com data de pagamento e forma.",Status quitada; datas dentro do mês; campos de pagamento presentes/não nulos.,,
2) A/R,Filtrar por cliente,"A/R por cliente = 'ACME'; retorne id, número do documento, vencimento, valor.",Somente cliente ACME; campos requisitados presentes; contagem razoável.,,
2) A/R,Filtrar por atraso e valor,A/R acima de R$ 50.000 e atraso > 30 dias; ordene por atraso desc.,Todos itens > 50k e atraso>30; ordenação desc correta.,,
2) A/R,Filtrar por projeto e sumarizar por status,A/R do projeto = {{ID_PROJETO}} e faça o somatório por status.,"Somente do projeto indicado; exibe total por status (aberta, vencida, quitada, etc.).",,
2) A/R,Detectar campos nulos,Liste A/R com algum campo obrigatório ausente e indique quantas linhas vieram com nulos.,Mostra contagem de nulos por campo; não quebra com valores ausentes.,,
3) Projetos/Empresas,Listar projetos ativos,"Liste todos os projetos/empreendimentos ativos: retorne id, nome, CNPJ/inscrição, status.",Somente ativos; campos essenciais presentes; nenhum erro de formato em CNPJ.,,
3) Projetos/Empresas,Buscar projeto por nome (like),Busque projeto pelo nome contendo 'Residencial' e traga endereço e responsável.,Retorna apenas correspondências 'Residencial'; endereço e responsável preenchidos quando disponíveis.,,
3) Projetos/Empresas,Detalhar projeto por ID,"Para o ID do projeto {{ID_PROJETO}}, retorne datas-chave (início, entrega prevista) e status financeiro agregado.",ID corresponde; datas e status financeiro agregados exibidos.,,
3) Projetos/Empresas,Listar fornecedores por CNPJ (pattern),"Empresas (fornecedores) com CNPJ contendo '0001'; retornar CNPJ, razão social, cidade.",Somente fornecedores com padrão informado; campos presentes; formatação ok.,,
3) Projetos/Empresas,Resumo por cidade (contagem e VGV),Crie um resumo por cidade: quantos projetos por cidade e o VGV agregado (se disponível).,Tabela cidade→qtd→VGV; total geral bate com soma por cidades.,,
3) Projetos/Empresas,Validar ordenação,"Traga a mesma lista 1x por nome e 1x por data de criação, comparando o primeiro e último item.",Ordens diferentes conforme critério; sem empates incorretos; primeiros/últimos mudam.,,
4) NFs de compra,Listar NFs por período,"Liste NFs de compra emitidas entre 2025-08-01 e 2025-08-31; traga número, fornecedor, valor, data.",Todas as datas no intervalo; campos presentes; contagem esperada.,,
4) NFs de compra,Filtrar NFs por fornecedor (CNPJ),NFs do fornecedor {{CNPJ_FORNECEDOR}}; retorne chave de acesso (se houver) e status.,Somente fornecedor indicado; chave/status presentes quando disponíveis.,,
4) NFs de compra,Top 5 por valor,NFs com valor > R$ 100.000; ordene desc por valor e mostre as 5 maiores.,Todos > 100k; ordenação desc; máximo 5 itens.,,
4) NFs de compra,Listar NFs por projeto com itens,"NFs do projeto {{ID_PROJETO}}; traga itens (produto/serviço, qtd, valor unitário) se a API expuser.",Itens presentes quando suportado; totals = sum(itens).,,
4) NFs de compra,Totalizar por CFOP,Totalize por CFOP (ou natureza) nos últimos 90 dias; retorne tabela CFOP → total.,Cada CFOP tem soma correta; soma total = total geral de NFs no período.,,
4) NFs de compra,Validar dados faltantes,Mostre NFs sem número ou sem fornecedor (dados faltantes).,Lista somente registros com campos ausentes; contagem de faltantes exibida.,,
4) NFs de compra,Testar paginação,"Teste de paginação com NFs: limite=5 e percorra 3 páginas, listando cursor/offset usado em cada chamada.",Sem itens duplicados entre páginas; cursores/offsets exibidos; total acumulado correto.,,
4) NFs de compra,Filtro inválido tratado,Teste de filtro inválido (ex.: CFOP = 'XYZ'); não quebre: retorne erro tratável e mensagem amigável.,Erro validado com mensagem clara e instrução de correção; sem stack trace bruto.,,
5) SC,Listar SC abertas,"Liste solicitações de compra abertas; inclua solicitante, data, projeto, valor estimado.",Somente status aberto; campos presentes; contagem razoável.,,
5) SC,SC aprovadas por projeto,SC do projeto {{ID_PROJETO}} com status = 'aprovada'; mostre quem aprovou e quando.,Somente aprovadas; aprovador e data presentes.,,
5) SC,Tempo médio até aprovação,SC criadas nos últimos 30 dias; calcule tempo médio até aprovação.,Intervalo aplicado; média/mediana calculadas; outliers identificados se existirem.,,
5) SC,Itens contendo palavra-chave,SC com itens contendo 'concreto'; retorne unidade e quantidade.,Somente itens correspondentes; unidade/quantidade presentes.,,
5) SC,Listar reprovações com motivo,Liste SC reprovadas e traga motivo (se existir).,Somente reprovadas; motivo exibido quando disponível.,,
5) SC,Exportar SC do mês (CSV),Retorne as SC do mês corrente em CSV no corpo da resposta (colunas essenciais).,CSV bem formatado; separador consistente; cabeçalhos corretos.,,
5) SC,Ordenação por prioridade,Ordenar SC por prioridade (se houver campo) e confirme a ordem.,Ordem condizente com prioridade; sem inversões inesperadas.,,
5) SC,Consulta ampla sem filtro,Entrada sem filtro (consulta ampla): o servidor deve limitar e orientar a refinar.,Resposta limitada + mensagem educativa recomendando filtros; sem travar.,,
6) Filtros/Paginação/Datas,Combinar dois filtros,Aplique dois filtros combinados (ex.: projeto + fornecedor) em NFs e prove que ambos foram aplicados.,População resultante menor do que filtros isolados; campos mostram ambos filtros.,,
6) Filtros/Paginação/Datas,Validar formatos de data,Datas com padrão brasileiro (dd/mm/aaaa) e com ISO (aaaa-mm-dd); valide interpretação correta ou instrução de formato.,Ou interpreta ambos ou retorna mensagem padronizada indicando formato aceito.,,
6) Filtros/Paginação/Datas,Projeção de campos,"Solicite apenas campos: id, número, valor.",Somente colunas requisitadas; sem campos extras.,,
6) Filtros/Paginação/Datas,Agrupar por mês,Agrupe A/R por mês (YYYY-MM) e traga somas por mês.,Todas as linhas agregadas; somatório por mês consistente; total geral confere com base.,,
6) Filtros/Paginação/Datas,Paginar sem duplicar,"Peça offset=0, limit=3; depois offset=3, limit=3; verifique duplicatas.",Nenhum item repetido entre páginas; IDs únicos.,,
6) Filtros/Paginação/Datas,Formatos de saída,Retorne em formato tabela legível e depois JSON; compare contagens e campos.,Ambos formatos têm a mesma contagem; campos equivalentes.,,
7) Erros/Robustez,Autenticação inválida,Simule usuário/senha errados e confirme retorno 401/erro tratado com dica.,Código/erro claro; sem vazamento de credenciais; mensagem de correção objetiva.,,
7) Erros/Robustez,Recurso inexistente,Peça projeto id = 99999999 e valide 404 tratado ('não encontrado').,404 ou erro equivalente; mensagem amigável; sem stack trace.,,
7) Erros/Robustez,Timeout controlado,Force consulta pesada e verifique se o servidor respeita o tempo limite com mensagem clara.,Tempo excedido tratado; sugestão de reduzir período/usar filtros.,,
7) Erros/Robustez,Rate limit e backoff,"Dispare 10+ chamadas em sequência; ao atingir limite, respeite backoff e mostre 429 amigável.",Mensagens de rate limit claras; sem loops; backoff observado.,,
7) Erros/Robustez,Entrada malformada,Envie datas inválidas e números onde se espera texto; espere erro de validação consistente.,Validação aponta campos e formatos; sem exceção não tratada.,,
7) Erros/Robustez,Queda da API do Sienge,Simule indisponibilidade do Sienge: retorne erro 5xx tratado e sugestão de retry.,Erro 5xx capturado; orientação de retry/backoff presente.,,
7) Erros/Robustez,Campos obrigatórios ausentes no payload,"Quando API devolver campos obrigatórios ausentes, a resposta não deve quebrar; sinalize nulos.",Campos marcados como nulos; execução segue; log de warning.,,
8) Cache/Performance,Verificar hit de cache,Rode a mesma consulta 2x e reporte latência e indicador de cache (hit/miss).,2ª chamada mais rápida; indicador de cache = hit.,,
8) Cache/Performance,Detectar miss por pequena variação,Altere o filtro mínimo (ex.: data final +1 dia) e verifique miss de cache.,Indicador = miss; latência semelhante à 1ª chamada.,,
8) Cache/Performance,Cache por página/offset,"Para consulta paginada, confirme se o cache é por chave de consulta (inclui página/offset).",Páginas cacheadas independentemente; sem confusão de páginas.,,
8) Cache/Performance,Estatísticas da sessão,"Peça estatísticas da sessão: nº de chamadas ao Sienge, taxa de erro, tempo médio.",Métricas exibidas; números condizem com uso durante os testes.,,
9) Observabilidade/Logging,Propagar request_id,Inclua nos resultados o request_id/trace da chamada ao Sienge para rastrear nos logs.,Cada resposta inclui um request_id rastreável.,,
9) Observabilidade/Logging,Alterar nível de log,"Mostre o nível de log atual; depois aumente para DEBUG e repita a consulta, exibindo diferenças (sem segredos).",Diferença visível; sem vazamento de dados sensíveis em DEBUG.,,
9) Observabilidade/Logging,Mascarar segredos,Confirme que credenciais/segredos estão mascarados nos logs.,Nenhum segredo visível; placeholders/**** aplicados.,,
9) Observabilidade/Logging,Resumo de warnings,"Retorne um resumo de warnings (campos deprecados, paginação forçada).",Warnings catalogados; orientações de correção presentes.,,
10) Segurança/Privacidade,Não expor variáveis sensíveis,Confirme que nenhuma variável sensível (.env) é exibida em respostas/logs.,Sem exposição; checagem manual nos logs e respostas.,,
10) Segurança/Privacidade,Minimização de dados,Solicite dados com CNPJ/Cadastro; verifique formatação e privacidade (somente campos necessários).,Sem dados excessivos; CNPJ formatado; campos mínimos.,,
10) Segurança/Privacidade,Verificar escopo de acesso,Teste de escopo: usuário com menos permissões não deve acessar projetos de outra unidade.,Acesso negado fora do escopo; mensagem clara e auditável.,,
10) Segurança/Privacidade,Evitar dumps amplos,Peça um dump completo de A/R; o servidor deve recusar ou limitar e orientar filtro.,Resposta limitada; recomendação de filtros; sem travar.,,
